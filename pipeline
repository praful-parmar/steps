pipeline{
    agent any
    stages{
        stage('build'){
            steps{
               sh './scripts/mvn mvn -B -DskipTests clean package'
            }
        }
        stage('test'){
            steps{
               sh 'docker-compose build --no-cache'
            }
        }
        stage('push'){
            steps{
                sh './scripts/push_img'
            }
        }
        stage('deploy'){
            steps{
               sh './scripts/transfer_to_remote'
            }
        }
    }
}
